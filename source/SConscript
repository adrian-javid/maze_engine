Import("mainEnv", "libEnv")

main_cpp = File("main.cpp")

mainSourceList = Glob("maze_engine/*.cpp") + Glob("maze_engine/*/*.cpp") + Glob("application/*.cpp") + Glob("application/*/*.cpp")

mainProgram = mainEnv.Program(target="maze_engine", source=[main_cpp] + mainSourceList)

catch2Object = libEnv.StaticObject(File("test/catch2/catch_amalgamated.cpp"))

testSourceList = Glob("test/*.cpp")

testProgram = mainEnv.Program(target="test/suite", source=[*mainSourceList, *testSourceList, catch2Object])

compilationDatabase = mainEnv.CompilationDatabase()

Return("mainProgram", "testProgram", "compilationDatabase")
