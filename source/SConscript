Import("mainEnv", "libEnv")

rootSourceList = Glob("*.cpp")

mainSourceList = Glob("main/*.cpp")

mainProgram = mainEnv.Program(target="solve_maze", source=[*rootSourceList, *mainSourceList])

catch2Object = libEnv.StaticObject(File("test/catch2/catch_amalgamated.cpp"))

testSourceList = Glob("test/*.cpp")

testProgram = mainEnv.Program(target="test/suite", source=[*mainSourceList, *testSourceList, catch2Object])

compilationDatabase = mainEnv.CompilationDatabase()

Return("mainProgram", "testProgram", "compilationDatabase")
